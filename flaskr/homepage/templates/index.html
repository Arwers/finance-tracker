<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('.static', filename='css/style.css') }}" type="text/css">
    <script src="https://kit.fontawesome.com/575dc4d1b1.js" crossorigin="anonymous"></script>
    <!-- <meta http-equiv="X-UA-Compatible" content="ie=edge" /> -->
    <title>Finance tracker</title>
    <!-- <link rel="icon" href="./favicon.ico" type="image/x-icon" /> -->
  </head>
  
  <body>
    <header class="header">
      <!-- Navigation bar on the left -->
      <nav class="side-nav">
        
        <!-- Company logo -->
        <a href="#" class="logo">
          <img src="{{ url_for('.static', filename='img/logo.png') }}" class="logo-img">
        </a>
        
        <!-- Options -->
        <ul class="nav-links">
          <li>
            <a href="#">
              <i class="fa-solid fa-house"></i>
              <p>Home</p>
            </a>
          </li>
          <li>
            <a href="#">
              <i class="fa-solid fa-right-to-bracket"></i>
              <p>Log out</p>
            </a>
          </li>
          <li>
            <a href="#">
              <i class="fa-solid fa-gear"></i>
              <p>Settings</p>
            </a>
          </li>
          <li>
            <a href="#">
              <i class="fa-solid fa-film"></i>
              <p>Tutorial</p>
            </a>
          </li>
          <li>
            <a href="#">
              <i class="fa-solid fa-circle-info"></i>
              <p>About</p>
            </a>
          </li>
        </ul>
      </nav>
    </header>

    <main class="main">

      <h2>Limit: {{limit}}</h2>
      <form action="{{ url_for('homepage.add_limit') }}" method="post">
        <input type="number" name="limit" />
        <button type="submit">Set limit</button>
      </form>

        <h2>Expenses:</h2>
      <ul>
        {% for expense in expenses %}
        <li>
          name: {{ expense["name"] }} expense: {{ expense["cost"] }} date: {{
          expense["date"] }} category: {{ expense["category"] }}
          <a href="{{url_for('homepage.delete', id = expense['id'])}}">Delete</a>
        </li>
        {% endfor %}
      </ul>

      <form action="{{ url_for('homepage.add') }}" method="post">
        <input type="text" name="name" />
        <input type="number" name="cost" />
        <input type="date" name="date" />
        <select name="category">
          {% for category in categories %}
          <option value="{{ category }}">{{ category }}</option>
          {% endfor %}
        </select>
        <button type="submit">Add</button>
      </form>

      <h2>Sum of expenses: {{ all_costs["total"] }}</h2>
      <ul>
        {% for key in all_costs if not key == "total" %}
        <li>{{ key }}: {{ all_costs[key] }}</li>
        {% endfor %}
      </ul>

      <h2>Money left: {{ money_left(limit, all_costs["total"]) }}</h2>
      <h2>Limit exceeded: {{ money_exceed(limit, all_costs["total"]) }}</h2>
    </main>

    <footer id="footer">
    </footer>
  </body>
</html>
